<!DOCTYPE html>
<html lang="en">
    <head prefix="og: https://ogp.me/ns#">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <meta name="color-scheme" content="light dark">
  
  <title>Arduino Application - Four Esigners</title>
  
    <link rel="shortcut icon" href="../../../../favicon.png">
  
  
    <link rel='manifest' href='/manifest.json'>
  

  
  
  
  <meta property="og:0" content="F" />
  
  <meta property="og:1" content="o" />
  
  <meta property="og:2" content="u" />
  
  <meta property="og:3" content="r" />
  
  <meta property="og:4" content=" " />
  
  <meta property="og:5" content="E" />
  
  <meta property="og:6" content="s" />
  
  <meta property="og:7" content="i" />
  
  <meta property="og:8" content="g" />
  
  <meta property="og:9" content="n" />
  
  <meta property="og:10" content="e" />
  
  <meta property="og:11" content="r" />
  
  <meta property="og:12" content="s" />
  
  <meta property="og:title" content="Arduino Application - Four Esigners" />
  
  <meta property="og:type" content="article" />
  
  <meta property="og:url" content="https://nexmaker-fab.github.io/2022zjudemini-team1boy/2023/03/01/Arduino-Application/index.html" />
  
  <meta property="og:image" content="/favicon.png" />
  
  <meta property="og:article:published_time" content="2023-03-01T05:00:38.000Z" />
  
  <meta property="og:article:author" content="Guo Herui" />
  
  

  
<link rel="stylesheet" href="../../../../css/var.css">

  
<link rel="stylesheet" href="../../../../css/main.css">

  
<link rel="stylesheet" href="../../../../css/typography.css">

  
<link rel="stylesheet" href="../../../../css/code-highlighting.css">

  
<link rel="stylesheet" href="../../../../css/components.css">

  
<link rel="stylesheet" href="../../../../css/nav.css">

  
<link rel="stylesheet" href="../../../../css/paginator.css">

  
<link rel="stylesheet" href="../../../../css/footer.css">

  
<link rel="stylesheet" href="../../../../css/post-list.css">

  
  
<link rel="stylesheet" href="../../../../css/rainbow-banner.css">

  
  
  
<link rel="stylesheet" href="../../../../css/toc.css">

  
  
  
  
  
<link rel="stylesheet" href="../../../../css/post.css">

  
  
  
  
  

  
<meta name="generator" content="Hexo 6.3.0"></head>
    <body
        data-color-scheme="auto"
        data-uppercase-categories="true"
        
        data-rainbow-banner="true"
        data-rainbow-banner-shown="auto"
        data-rainbow-banner-month="1"
        data-rainbow-banner-colors="#e50000,#ff8d00,#ffee00,#008121,#004cff,#760188"
        
        data-config-root="/2022zjudemini-team1boy/"
        
        data-toc="true"
        data-toc-max-depth="2"
        
        
    >
        <nav id="theme-nav">
    <div class="inner">
        <a class="title" href="/2022zjudemini-team1boy/">Four Esigners</a>
        <div class="nav-arrow"></div>
        <div class="nav-items">
            <a class="nav-item nav-item-home" href="/2022zjudemini-team1boy/">Home</a>
            
            
            <a class="nav-item" href="../../../../2022zjudemini-team1boy/2022/11/16/Hello-my-teammates">Team</a>
            
            
            
            <a class="nav-item" href="../../../../course">Course</a>
            
            
            
            <a class="nav-item" href="../../../../projects">Projects</a>
            
            
            
            <a class="nav-item" href="../../../../about">About</a>
            
            
            
            <a class="nav-item" target="_blank" rel="noopener" href="https://www.zju.edu.cn/">School</a>
            
            
        </div>
    </div>
</nav>
        
<article class="post">
    <div class="meta">
        

        
        <div class="date" id="date">
            <span>March</span>
            <span>1,</span>
            <span>2023</span>
        </div>
        

        <h2 class="title">Arduino Application</h2>
    </div>

    <div class="divider"></div>

    <div class="content">
        <center>

<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20picture37c2f38141160de33c28ec24a900f7c.jpg"/>
</center>
<p align="left"> Arduino is a convenient, flexible, and easy-to-use open source electronic prototyping platform. It contains software (ArduinoIDE integrated development environment) and hardware (various models of Arduino boards). The hardware can be programmed by the software to sense and interact with the physical world.</p>
<p align="left"> The Arduino software program is created using the Arduino IDE, an integrated development environment on your computer. In the IDE, you can write and edit code and convert this code into instructions that the Arduino hardware understands, and then upload these instructions to the Arduino board, which enables you to control the Arduino board through the program.</p>

<center>

<h2 id="Arduino-Input"><a href="#Arduino-Input" class="headerlink" title="Arduino Input"></a>Arduino Input</h2><h3 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h3></center>

<center>

<h3 id="Temperature-Sensor"><a href="#Temperature-Sensor" class="headerlink" title="Temperature Sensor"></a>Temperature Sensor</h3></center>
<p align="left"> Temperature sensors were the first to be developed and the most widely used class of sensors. Among them, thermistors, whose resistance value can vary with temperature, are a more common type of semiconductor sensor for detecting temperature. The resistance value of a thermistor is very sensitive to temperature and will exhibit different resistance values at different temperatures. Since there is a non-linear relationship between the temperature measured by the thermistor and the resistance value, the temperature value of the environment can be obtained backwards from its resistance value. In summary, thermistors have the advantages of high sensitivity, small size, fast response time, and low price.</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20pictureA001.png"/></center>
<p align="left"> We use a thermistor module and hope to be able to view the temperature change through the serial port. The thermistor module has four pins, AO\DO\GND and VCC, as shown in Figure 6.2.3, and we chose the AO pin as the output pin of the temperature signal. The circuit connection is shown in the figure. Connect the AO pin to the A0 analog port in the Arduino board, as shown by the green line.</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20pictureA002.png"/></center>
<p align="left"> First, define the temperature sensor pin variable "temperatureSensorPin" at the beginning of the program, for the A0 analog port. Set the serial communication baud rate in the setup initialization. In the loop body, the analog value of the temperature is read from the segment "temperatureSensorPin" and assigned to the segment "temperatureSensorValue". Finally, the temperature value is printed out in the serial port. The specific code of this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> temperatureSensorPin = A0;   <span class="comment">//analog pin 0</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span>()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span>()</span> &#123;</span><br><span class="line">  <span class="built_in">int</span> temperatureSensorValue = analogRead(temperatureSensorPin);</span><br><span class="line">  Serial.println(temperatureSensorValue);</span><br><span class="line">  delay(<span class="number">250</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20picturezhanweifu.jpg"/>
</center>
<br/>

<center>

<h3 id="Temperature-and-humidity-sensor-DHT11"><a href="#Temperature-and-humidity-sensor-DHT11" class="headerlink" title="Temperature and humidity sensor (DHT11)"></a>Temperature and humidity sensor (DHT11)</h3></center>
<p align="left"> The temperature and humidity sensor DHT11 is a composite sensor that contains calibrated digital signal outputs for temperature and humidity, includes a resistive moisture sensing element and an NTC temperature measuring element, and is connected to a high performance 8-bit microcontroller. It has a limited measurement range, with humidity between 20% and 90% and temperature within 0-50°C.</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20pictureA003.png"/>
</center>
<p align="left"> Here we expect to read the temperature and humidity information through the serial port. In the circuit connection, we connect the power input pin VCC to the 5v power supply, GND to ground, and the signal output pin DATA to the number 2 digital port, as shown in the green line.</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20pictureA004.png"/>
</center>
<p align="left">In the code section, first call the DHT.H library and define the pin variable DHTPIN for the sensor as 2, as well as define the type DHT11. and instantiate a DHT class named dht. This way, we do not need to write the complex program ourselves. In setup initialization, set the serial communication baud rate and print out "DHT11 test!" to get the temperature and humidity sensor started, dht.begin.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#include &quot;DHT.h&quot;</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DHTPIN 2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DHTTYPE DHT11</span></span><br><span class="line"><span class="function">DHT <span class="title">dht</span> (<span class="params">DHTPIN, DHTTYPE</span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span>()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line">  Serial.println(<span class="string">&quot;DHT11 test!&quot;</span>);</span><br><span class="line">  dht.begin();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p align="left"> Enter the loop main loop and read the humidity (code segment "dht.readHumidity") and assign it to the double precision floating point number h. The temperature (code segment "dht.readTemperature") is assigned to the Celsius temperature t and the Fahrenheit temperature f. The code for this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span>()</span> &#123;</span><br><span class="line">  delay(<span class="number">2000</span>);</span><br><span class="line">  <span class="built_in">float</span> h = dht.readHumidity();   <span class="comment">//Reading humidity</span></span><br><span class="line">  <span class="built_in">float</span> t = dht.readTemperature();   <span class="comment">//Reading Celsius</span></span><br><span class="line">  <span class="built_in">float</span> f = dht.readTemperature(<span class="literal">true</span>);   <span class="comment">//Reading Fahrenheit</span></span><br></pre></td></tr></table></figure>

<p align="left"> When one of the variables h, t and f fails to be read, the output is printed "Failed to read from DHT sensor! Then, based on the read h, t and f values, the heat index (Fahrenheit) hif and the heat index (Celsius) hic are calculated, where the heat index is also the body sensory temperature. In high temperature, when the relative humidity increases, the real temperature felt by human body will exceed the actual temperature. The specific code for this step is as follows.</p>


<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (isnan(h) || isnan(t) || isnan(f)) &#123;</span><br><span class="line">  seriala.println(<span class="string">&quot;Failed to read from DHT sensor!&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;   <span class="comment">// Check if any reads failed and exit early (to try again).</span></span><br><span class="line"><span class="built_in">float</span> hif = dht.computeHeatIndex(f, h);   <span class="comment">//Calculation of heat index (degrees Fahrenheit)</span></span><br><span class="line"><span class="built_in">float</span> hic = dht.computeHeatIndex(t, h, <span class="literal">false</span>);   <span class="comment">//Calculation of heat index (degrees Celsius)</span></span><br></pre></td></tr></table></figure>

<p align="left"> Finally, the humidity h, Celsius temperature t, Fahrenheit temperature, and heat index hic and hif are printed out in the serial port, respectively. The specific code for this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  Serial.print(F(<span class="string">&quot;Humidity: &quot;</span>));</span><br><span class="line">  Serial.print(h);</span><br><span class="line">  Serial.print(F(<span class="string">&quot;% Temperature: &quot;</span>));</span><br><span class="line">  Serial.print(t);</span><br><span class="line">  Serial.print(F(<span class="string">&quot;℃&quot;</span>));</span><br><span class="line">  Serial.print(f);</span><br><span class="line">  Serial.print(F(<span class="string">&quot;℉ Heat inndex: &quot;</span>));</span><br><span class="line">  Serial.print(hic);</span><br><span class="line">  Serial.print(F(<span class="string">&quot;℃&quot;</span>));</span><br><span class="line">  Serial.print(hif);</span><br><span class="line">  Serial.println(F(<span class="string">&quot;℉&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20picturezhanweifu.jpg"/>
</center>
<br/>

<center>

<h3 id="Heart-rate-sensor-Pulse-Sensor"><a href="#Heart-rate-sensor-Pulse-Sensor" class="headerlink" title="Heart rate sensor (Pulse Sensor)"></a>Heart rate sensor (Pulse Sensor)</h3></center>
<p align="left"> Pulse Sensor is a photo-reflective sensor for heart rate or pulse measurement. The Pulse Sensor has two sides, the front side with fewer electronic components and a heart-shaped pattern, which is the skin contact side of the area to be measured. In use, as the reverse side has more electronic components, it should be in contact with the skin as little as possible to prevent electrostatic interference on the one hand, and to avoid damage to the sensor due to skin sweat on the other.</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20pictureA005.png"/>
</center>
<p align="left"> As shown in the figure, connect the power input pin to 5V, GND to ground, and the signal output pin to A0.</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20pictureA006.png"/>
</center>
<p align="left"> First, we define the pin variable pulsePin of the heart rate sensor as A0 and the variable signalValue to store the signal value. set the serial port communication baud rate in setup initialization. Then, in the loop main loop, the signal value is read from pulsePin and assigned to signalValue, and finally, the signalValue value is printed on the serial port. The specific code of this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> pulsePin=A0;</span><br><span class="line"><span class="built_in">int</span> signalValue;</span><br><span class="line"><span class="function"><span class="keyword">void</span>  <span class="title">setup</span>()</span>&#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span>()</span>&#123;</span><br><span class="line">  signalValue=analogRead(pulsePin);</span><br><span class="line">  Serial.println(signalValue);</span><br><span class="line">  delay(<span class="number">20</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p align="left"> Finally, we burn the code into the Arduino UNO board to get the pulse waveform.</p>

<center>

<h2 id="Arduino-Output"><a href="#Arduino-Output" class="headerlink" title="Arduino Output"></a>Arduino Output</h2><h3 id="LED-dot-matrix-screen-1588AB-24"><a href="#LED-dot-matrix-screen-1588AB-24" class="headerlink" title="LED dot matrix screen (1588AB-24)"></a>LED dot matrix screen (1588AB-24)</h3></center>
<p align="left"> We use an 8×8 LED dot matrix screen to display the beating heart.</p>
<p align="left"> In the circuit connection, we only need to connect 8 pins of each row and column to Arduino. The ports controlling rows 1-4 are digital ports 2, 3, 5, and 9, the ports controlling rows 5-8 are digital ports 6, 8, 7, and 4, and the ports controlling columns 1-8 are analog ports A5\A3\A2\A4, digital port 11, analog port A1, digital port 10, and analog port A0. As you can see, the analog ports of the Arduino can be used as digital outputs even when there are not enough pins You can see that the analog port of Arduino can be used as digital output when there are not enough pins.</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20pictureA007.png"/>
</center>
<p align="left"> In the code, we first define the individual pins row1 to row8, and column1 to column8 in the LED dot matrix. the specific code of this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Col1 = A5;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Col2 = A3;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Col3 = A2;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Col4 = A4;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Col5 = <span class="number">11</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Col6 = A1;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Col7 = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Col8 = A0;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Row1 = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Row2 = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Row3 = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Row4 = <span class="number">9</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Row5 = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Row6 = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Row7 = <span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Row8 = <span class="number">4</span>;</span><br></pre></td></tr></table></figure>

<p align="left"> Put the row and column pins into two arrays of rows and columns. The specific code for this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Row[] = &#123;</span><br><span class="line">  Row1, Row2, Row3, Row4, Row5, Row6, Row7, Row8</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">char</span> Col[] = &#123;</span><br><span class="line">  Col1, Col2, Col3, Col4, Col5, Col6, Col7, Col8</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p align="left"> Next, to show the beating heart, we need to draw two hearts, one larger and one smaller. By interlacing the two hearts, we can achieve the beating effect. Therefore, we also need to define two arrays, one for the large heart "biglove" array. Since the LED dot matrix module used in this case is common cathode, so set 0 as low level to turn off the led, and 1 as high level to turn on the led. The specific code of this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">unsigned <span class="built_in">char</span> biglove[<span class="number">8</span>][<span class="number">8</span>] = &#123;   <span class="comment">//biglove</span></span><br><span class="line">  <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>,</span><br><span class="line">  <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>,</span><br><span class="line">  <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p align="left"> Another array, "smalllove", is careful. Again, it is represented by 0 and 1. The specific code for this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">unsigned <span class="built_in">char</span> smalllove[<span class="number">8</span>][<span class="number">8</span>] = &#123;   <span class="comment">//smalllove</span></span><br><span class="line">  <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p align="left"> In setup, each pin is set to output mode and initialized to low by a for loop statement. The specific code of this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span>()</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">    pinMode (Row[i], OUTPUT);</span><br><span class="line">    digitalWrite(Row[i], LOW);</span><br><span class="line">    pinMode(Col[i], OUTPUT);</span><br><span class="line">    digitalWrite(Col[i], LOW);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p align="left"> In the loop main loop, two for loops are written, the first loop 100 times for displaying the big heart and the second loop 50 times for displaying the small heart. This way, the large heart will be displayed twice as long as the small heart. In both loops, the display function is called to display the pattern. The specific code for this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span>()</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)     <span class="comment">//循环显示100次</span></span><br><span class="line">  &#123;</span><br><span class="line">    Display(biglove);   <span class="comment">//显示大心</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">int</span>  i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++)    <span class="comment">//循环显示50次</span></span><br><span class="line">  &#123;</span><br><span class="line">    Display(smalllove);   <span class="comment">//显示小心</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p align="left"> In the display function, the high and low status of each pin is determined based on the two arrays of binglove and smalllove originally defined. For example, when displaying a large heart, the data from the large heart biglove array is transferred to the dat array. When entering the first for loop, the value of c represents the column column number, let the cth column in the column array be low. Then, entering the second for loop, the value of r represents the number of row rows. At this point, the value of column c of row r of the dat array is written to row r. If the value is 0, it is low and makes the dot go off; if the value is 1, it is high and makes the dot light up. This completes the display of a dot going on and off. When r traverses to 8, it completes the lighting up and lighting down of all 8 dots in column c. Exit the second for loop and go back to the first for loop for the next column of dot display. And when c also increases from 0 to 8, it indicates that all the dots in column 8 are displayed. The specific code of this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Display</span>(<span class="params">unsigned <span class="built_in">char</span> dat[<span class="number">8</span>][<span class="number">8</span>]</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">int</span> c = <span class="number">0</span>; c &lt; <span class="number">8</span>; c++) &#123;</span><br><span class="line">    digitalWrite(Col[c], LOW);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> r = <span class="number">0</span>; r &lt; <span class="number">8</span>; r++) &#123;</span><br><span class="line">      digitalWrite(Row[r], dat[r][c]);</span><br><span class="line">    &#125;</span><br><span class="line">    delay(<span class="number">1</span>);</span><br><span class="line">    Clear();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p align="left"> The clear function is called after each display of a large heart or a small heart, and the clear function is used to clear the screen in preparation for the next display of a small heart or a large heart. The specific code for this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Clear</span>()</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">    digitalWrite (Row[i], LOW);</span><br><span class="line">    digitalWrite(Col[i], HIGH);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<center>

<h3 id="Motor"><a href="#Motor" class="headerlink" title="Motor"></a>Motor</h3></center>



<center>

<h3 id="Screen-LCD-I2C-x2F-SPI"><a href="#Screen-LCD-I2C-x2F-SPI" class="headerlink" title="Screen (LCD I2C&#x2F;SPI)"></a>Screen (LCD I2C&#x2F;SPI)</h3></center>
<p align="left"> Liquid-crystal display (LCD) is a display in which liquid crystals are placed in two parallel pieces of glass, with a number of tiny vertical and horizontal wires in the middle of the two pieces of glass, which control the direction of the rod-shaped crystal molecules by energizing them or not, and refract the light to produce a picture.</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20pictureA008.png"/>
</center>
<p align="left"> We choose the I2C/SPI driver module for LCD for the project. This driver module can easily reduce the number of connections between Arduino and LCD to 4, and the circuit connections will be greatly simplified. As shown in the figure, in addition to accessing VCC and GND, we only need to connect SDA pin to A4 and SCL pin to A5. Pin 1 on the LCD is connected to pin 1 on the LCD driver module.</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/ghr0821/Esigners-Pic/esigners%20pictureA009.png"/>
</center>
<p align="left"> In the program, we first install and import the LiquidCrystal_I2C.h library and the Wire.h library. And create the lcd instance, where 0x27 is our device address. Each device address is different and needs to be changed by the students. The specific code for this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># include &lt;LiquidCrystal_I2C.h&gt;</span></span><br><span class="line"><span class="meta"># include &lt;Wire.h&gt;</span></span><br><span class="line"><span class="function">LiquidCrystal_I2C <span class="title">lcd</span>(<span class="params"><span class="number">0</span>×<span class="number">27</span>, <span class="number">16</span>, <span class="number">2</span></span>)</span>;</span><br></pre></td></tr></table></figure>

<p align="left"> Initialize the LCD instance in setup and set the backlight of the LCD. The specific code of this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span>()</span> &#123;</span><br><span class="line">  lcd.<span class="keyword">init</span>();</span><br><span class="line">  lcd.backlight();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p align="left"> In the loop main loop, in order to display the text, we first need to set the display pointer. This is because our 1062LCD has two lines of text to display and we need to specify whether it is on the first or second line. The specific code for this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span>()</span> &#123;</span><br><span class="line">  lcd.setCursor(<span class="number">0</span>, <span class="number">0</span>);   <span class="comment">//设置显示指针</span></span><br><span class="line">  lcd.print(<span class="string">&quot;Hello world&quot;</span>);   <span class="comment">//输出字符到LCD上</span></span><br><span class="line">  delay(<span class="number">2000</span>);</span><br></pre></td></tr></table></figure>

<p align="left"> Next, we want to print new text, so we can use lcd.clear to clear the text first. Go ahead and select the display pointer to print the output. If you want to display the text on the second line, select display pointers 0 and 1, then print lcd.print(how are you). Delay and then clear. The specific code for this step is as follows.</p>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  lcd.clear();</span><br><span class="line">  lcd.setCursor(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  lcd.print(<span class="string">&quot;I am zjuer&quot;</span>);</span><br><span class="line">  lcd.setCursor(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">  lcd.print(<span class="string">&quot;How are you&quot;</span>);</span><br><span class="line">  delay(<span class="number">2000</span>);</span><br><span class="line">  lcd.clear();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    <div class="about">
        <h1>About this Post</h1>
        <div class="details">
            <p>This post is written by Guo Herui, licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc/4.0">CC BY-NC 4.0</a>.</p>
        </div>
        
    </div>
    

    <div class="container post-prev-next">
        <a class="next"></a>
        
        <a href="../../../../2022/12/13/Processing/" class="prev">
            <div>
                <div class="text">
                    <p class="label">Previous</p>
                    <h3 class="title">Processing</>
                </div>
            </div>
        </a>
        
    </div>

    
        
        
    
</article>

        <footer>
    <div class="inner">
        <div class="links">
            
            <div class="group">
                <h4 class="title">Blog</h4>
                
                <a href="/2022zjudemini-team1boy/2022/11/16/Hello-my-teammates" class="item">Team</a>
                
                <a href="/course" class="item">Course</a>
                
                <a href="/projects" class="item">Projects</a>
                
                <a href="/about" class="item">About</a>
                
            </div>
            
            <div class="group">
                <h4 class="title">Projects</h4>
                
                <a href="/2022zjudemini-team1boy/2022/11/28/Website-construction" class="item">Website</a>
                
                <a href="/2022zjudemini-team1boy/2022/11/28/CAD-Design" class="item">CAD Design</a>
                
                <a href="/2022zjudemini-team1boy/2022/12/06/3D-Printer-Laser-Cutting" class="item">3D Printer &amp; Laser Cutting</a>
                
                <a href="/2022zjudemini-team1boy/2022/12/13/Processing" class="item">Processing</a>
                
            </div>
            
            <div class="group">
                <h4 class="title">Team</h4>
                
                <a href="/2022zjudemini-team1boy/2022/11/16/Herui%20Guo" class="item">Herui Guo</a>
                
                <a href="/2022zjudemini-team1boy/2022/11/16/Haotian%20Ying" class="item">Haotian Ying</a>
                
                <a href="/2022zjudemini-team1boy/2022/11/16/Chenda%20Zheng" class="item">Chenda Zheng</a>
                
                <a href="/2022zjudemini-team1boy/2022/11/16/Liyi%20Zhang" class="item">Liyi Zhang</a>
                
            </div>
            
        </div>
        <span>&copy; 2023 Guo Herui<br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> </span>
        
        
            <br>
            <div class="color-scheme-toggle" role="radiogroup" id="theme-color-scheme-toggle">
                <label>
                    <input type="radio" value="light">
                    <span>Light</span>
                </label>
                <label>
                    <input type="radio" value="dark">
                    <span>Dark</span>
                </label>
                <label>
                    <input type="radio" value="auto">
                    <span>Auto</span>
                </label>
            </div>
        
    </div>
</footer>


        
<script src="../../../../js/main.js"></script>

        
        
        

        
        <script src="https://unpkg.com/scrollreveal"></script>
        <script>
            window.addEventListener('load', () => {
                ScrollReveal({ delay: 250, reset: true, easing: 'cubic-bezier(0, 0, 0, 1)' })
                ScrollReveal().reveal('.post-list-item .cover-img img')
                ScrollReveal().reveal('.post-list-item, .card, .content p img, .content .block-large img', { distance: '60px', origin: 'bottom', duration: 800 })
            })
        </script>
        
    </body>
</html>